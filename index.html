<!--Wyatt Engelmann  -  Workout Generator-->
<!DOCTYPE html>
<html lang="en">
<head>
    <!-- basic header stuff -->
    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- makes a selecter with muscle options -->
    <select id="mySelect">
        <option value="abdominals">Abdominals</option>
        <option value="abductors">Abductors</option>
        <option value="adductors">Adductors</option>
        <option value="biceps">Biceps</option>
        <option value="calves">Calves</option>
        <option value="chest">Chest</option>
        <option value="forearms">Forearms</option>
        <option value="glutes">Glutes</option>
        <option value="hamstrings">Hamstrings</option>
        <option value="lats">Lats</option>
        <option value="lower_back">Lower Back</option>
        <option value="middle_back">Middle Back</option>
        <option value="neck">Neck</option>
        <option value="quadriceps">Quadriceps</option>
        <option value="traps">Traps</option>
        <option value="triceps">Triceps</option>
    </select>
    <!-- generate button and empty display divs -->
    <button id="generate">Generate a exercise</button>
        <div id ="lable"> </div>
    </br>
        <div id ="des"> </div>
    <script>
    const button = document.getElementById("generate") //linked ellements
    const lable = document.getElementById("lable")
    const des = document.getElementById("des")
    const pick = document.getElementById("mySelect")
    var muscle = y //muscle var
    var y = "test" //placeholder var
        async function getExercises() {

            //pulls the api with the muscle perm being set to the var
            const response = await fetch('https://api.api-ninjas.com/v1/exercises?muscle=' + muscle , {
                headers: {
                    'X-Api-Key': 'QZgj28HjMaHd9e9S4nyaJY87eF2DY86PGDMLMyDT', //API key
                }
            });

            const data = await response.json(); //turns JSON to var

            data.forEach(exercise => { //for loop
                const name = exercise.name; //sets vars for the name and instructions of each exersize
                const instructions = exercise.instructions;

                lable.innerHTML = (`Name: ${name}`); //sets the lables to the data
                des.innerHTML = (`Instructions: ${instructions}\n`);

                console.log(`Name: ${name}`); //logs the data
                console.log(`Instructions: ${instructions}\n`);
            });
 
        }

        function selectMus() { //pulls the info from selector and logs it
            y = document.getElementById("mySelect").value; 
            console.log(y)   
            }

        button.addEventListener('click', () => { // button to get exersistes 
            getExercises()
            })
            
        pick.addEventListener('change', () => { //listens to selector for a new muscle
            selectMus() //calls selectMus
            console.log(y) //log
            muscle = y //sets muscle
            console.log(muscle) //log
            })
</script>
</body>
</html>